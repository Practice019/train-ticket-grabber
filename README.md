# 12306抢票系统

<div align="center">

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![Platform](https://img.shields.io/badge/platform-Windows-lightgrey.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

一个功能强大、界面友好的12306自动抢票工具

[下载使用](#-下载) | [功能特性](#-功能特性) | [使用说明](#-使用说明) | [常见问题](#-常见问题)

</div>

---

## 📋 项目简介

12306抢票系统是一个基于 Python + PyQt5 开发的自动抢票工具，支持自动登录、智能查询、快速抢票等功能。采用插件化架构设计，易于扩展和维护。

## ✨ 功能特性

### 🎯 核心功能
- **自动登录** - 支持账号密码自动登录12306
- **智能查询** - 实时查询车次余票信息，支持自定义查询间隔
- **快速抢票** - 自动提交订单，智能重试机制
- **车次筛选** - 支持按车次类型筛选（高铁/动车/普通列车/全部）
- **座位选择** - 支持多种座位类型
  - 高铁/动车：商务座、一等座、二等座
  - 普通列车：硬座、硬卧、软卧、无座
- **票种支持** - 成人票、学生票
- **座位偏好** - 支持不选座、靠窗、靠过道等偏好设置

### 🎨 界面特点
- 简洁友好的图形界面
- 实时显示车次信息和余票数量
- 动态调整表格列（根据车次类型自动显示对应座位列）
- 自动保存用户偏好设置
- 详细的日志记录

### 🔧 技术特性
- 插件化架构设计
- 事件驱动机制
- 连接池优化（提升查询性能）
- 完善的错误处理
- 详细的日志系统

## 📦 下载

### 最新版本

👉 [点击前往 Releases 页面下载](../../releases)

下载 `12306抢票系统.zip` 压缩包

### 文件说明
```
12306抢票系统/
├── 12306抢票系统.exe    # 主程序（双击运行）
├── cache/                # 缓存目录（车站数据）
├── drivers/              # 浏览器驱动
├── logs/                 # 日志目录
└── config.json           # 配置文件
```

## 🚀 使用说明

### 安装步骤
1. 下载 `12306抢票系统.zip` 压缩包
2. 解压到任意目录（建议解压到桌面或D盘）
3. 双击运行 `12306抢票系统.exe`

### 快速开始

#### 1. 登录设置
- 输入12306账号和密码
- 点击"登录"按钮

#### 2. 查询车次
- 选择出发地和目的地
- 选择出发日期
- 选择车次类型（高铁/动车/普通列车/全部）
- 点击"查询车次"

#### 3. 开始抢票
- 在查询结果中选择目标车次
- 选择座位类型
- 选择票种（成人票/学生票）
- 设置查询间隔（建议100-500毫秒）
- 点击"开始抢票"

### 高级功能

#### 起售时间抢票
- 勾选"启用起售时间"
- 设置起售时间（如：08:00）
- 程序会在起售时间自动开始抢票

#### 座位偏好
- 不选座：随机分配座位
- 靠窗：优先分配靠窗座位
- 靠过道：优先分配靠过道座位

## 💻 系统要求

### 最低配置
- **操作系统**：Windows 10 或更高版本
- **内存**：4GB RAM
- **硬盘空间**：500MB 可用空间
- **网络**：稳定的互联网连接

### 推荐配置
- **操作系统**：Windows 11
- **内存**：8GB RAM 或更高
- **网络**：宽带连接

### 特别说明
- ✅ **无需安装 Python 环境**，开箱即用
- ✅ **无需安装其他依赖**，所有组件已打包
- ✅ **绿色软件**，解压即可使用

## 🏗️ 项目结构

```
train_ticket_grabber/
├── main.py                      # 主程序入口
├── config.json                  # 配置文件
├── requirements.txt             # Python依赖
├── build_exe.py                 # PyInstaller打包脚本
├── core/                        # 核心模块
│   ├── event_bus.py            # 事件总线
│   ├── plugin_interface.py     # 插件接口
│   └── plugin_manager.py       # 插件管理器
├── plugins/                     # 插件目录
│   ├── login_plugin.py         # 登录插件
│   ├── query_plugin.py         # 查询插件
│   └── smart_grab_plugin.py    # 智能抢票插件
├── shared/                      # 共享模块
│   ├── config_manager.py       # 配置管理
│   ├── logger.py               # 日志管理
│   ├── station_data.py         # 车站数据
│   ├── task_manager.py         # 任务管理
│   ├── time_sync.py            # 时间同步
│   └── selenium_order_submitter.py  # 订单提交
├── ui/                          # 界面模块
│   └── main_window.py          # 主窗口
├── cache/                       # 缓存目录
│   ├── stations.json           # 车站列表缓存
│   └── tasks.json              # 任务缓存
├── drivers/                     # 浏览器驱动
│   └── msedgedriver.exe        # Edge驱动
└── logs/                        # 日志目录
```

## 🔧 开发说明

### 环境要求
- Python 3.8+
- PyQt5
- Selenium
- Requests

### 安装依赖
```bash
pip install -r requirements.txt
```

### 运行程序
```bash
python main.py
```

### 打包程序
```bash
python build_exe.py
```

## ❓ 常见问题

### Q1: 程序启动很慢？
**A:** 首次启动需要加载资源，大约需要5-10秒，这是正常现象。后续启动会快很多。

### Q2: 杀毒软件报毒？
**A:** 这是误报。PyInstaller打包的程序容易被误报，请添加到杀毒软件白名单。

### Q3: 查询不到车次？
**A:** 请检查：
- 网络连接是否正常
- 出发地和目的地是否正确
- 日期是否在可预订范围内（一般提前30天）

### Q4: 抢票失败？
**A:** 可能原因：
- 余票已售罄
- 网络延迟
- 12306服务器繁忙
- 建议调整查询间隔，多次尝试

### Q5: 配置文件在哪里？
**A:** `config.json` 在程序根目录，可以手动编辑配置。

### Q6: 日志文件在哪里？
**A:** `logs/` 目录下，按日期命名（如：2025-12-22.log）

## 🐛 问题反馈

如遇到问题，请通过以下方式反馈：
- 在本仓库提交 [Issue](../../issues)
- 提供详细的错误信息和日志文件

## 📝 更新日志

### v1.0.0 (2025-12-22)
- 🎉 首次正式发布
- ✨ 实现核心抢票功能
- 🎨 优化用户界面
- 🔧 插件化架构设计
- 📊 动态表格列显示
- 💾 自动保存用户偏好
- 🐛 修复已知问题

## ⚖️ 免责声明

本软件仅供学习交流使用，请遵守12306相关规定。使用本软件产生的任何后果由使用者自行承担。

## 📄 许可证

本项目采用 [MIT](LICENSE) 许可证

---

<div align="center">

**感谢使用 12306抢票系统！祝你抢票成功！🎉**

Made with ❤️ by 妖精

</div>
